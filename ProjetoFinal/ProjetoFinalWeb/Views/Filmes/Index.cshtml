@model IEnumerable<ProjetoFinalWeb.Models.FilmesModel>

@{
    ViewBag.Title = "Filmes";
    
}
<div class="svg-wrapper">
    <svg height="60" width="320" xmlns="http://www.w3.org/2000/svg">
        <rect class="shape" height="60" width="320" />
        <div class="text">Filmes</div>
    </svg>
</div>

<a href="/Home/Index" class="btn-home" style="position: absolute; top: 0px; right: 10px;">
    <h3 class="btn btn-default"><span class="glyphicon glyphicon-home"> Home</span></h3>
</a>

<div style="clear: both;"></div>

<form method="post" action="/Filmes" class="form-inline"  style="margin: 40px;">
    <div class="form-group">
        <input type="text" id="nome" class="form-control" name="nome" placeholder="Digite o nome do filme..." required />
    </div>
    <button type="submit" class="btn btn-default btn-sm" /><span class="glyphicon glyphicon-search"></span> BUSCAR</button>
</form>


@{ var erro = @ViewBag.Erro2; }

@if (@erro == "SIM")
{

    <div class="conteiner_erro">
        <p class="texto_erro">@ViewBag.Erro</p>
        <img src="~/images/zelda.png" class="img_erro" />
    </div>
}


<ul class="lista_filmes">
    @foreach (var item in Model)
    {
        var poster = @Html.DisplayFor(modelItem => item.Poster);
        var response = @Html.DisplayFor(modelItem => item.Response);
        //JANELAS MODAIS
        <div class="modal fade" id="@item.imdbID" role="dialog">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h2 class="modal-title">@Html.DisplayFor(modelItem => item.Title)</h2>
                    </div>
                    <div class="modal-body">
                        <div style="width: 75%; float: left;">
                            <p><strong>Ano</strong>   : @Html.DisplayFor(modelItem => item.Year)</p>
                            <p><strong>imdbID</strong>: @Html.DisplayFor(modelItem => item.imdbID)</p>
                            <p><strong>Tipo</strong>  : @Html.DisplayFor(modelItem => item.Type)</p>
                        </div>

                        @if (poster.ToString() == "N/A")
                        {
                            <div>
                                <p><img src="http://compareagora.com/assets/imagens/outras/imgindisponivel.jpg" style="float: right; width: 20%;" /></p>
                            </div>
                        }
                        else
                        {
                            <div>
                                <p><img src="@Html.DisplayFor(modelItem => item.Poster)" style="float: right; width: 20%;" /></p>
                            </div>
                        }

                        <div style="clear: both;"></div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal"><span class="glyphicon glyphicon-remove-sign"> Fechar</span></button>
                    </div>
                </div>
            </div>
        </div>


        if (poster.ToString() == "N/A")
        {
            <li class="filmes_itens" style="background-image: url(http://compareagora.com/assets/imagens/outras/imgindisponivel.jpg);">
                <span class="text_image"><p>@Html.DisplayFor(modelItem => item.Title)</p></span>
                <div class="link_filmes">
                    <a href="" data-toggle="modal" data-target="#@item.imdbID">Ver Detalhes</a>
                </div>
            </li>
        }
        else
        {
            <li class="filmes_itens" style="background-image:url(@Html.DisplayFor(modelItem => item.Poster));">
                <span class="text_image"><p>@Html.DisplayFor(modelItem => item.Title)</p></span>
                <div class="link_filmes">
                    <a href="" data-toggle="modal" data-target="#@item.imdbID">Ver Detalhes</a>
                </div>
            </li>

        }
    }
</ul>
<div style="clear: both;"></div>
